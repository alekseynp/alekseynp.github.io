
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Aleksey Nozdryn-Plotnicki</title>
  <meta name="author" content="Aleksey Nozdryn-Plotnicki">

  
  <meta name="description" content="Language Network is an excellent demonstration of a technique for exploring a relational data set. Every language has a % strength of similarity to &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://alekseynp.com/posts/4">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Aleksey Nozdryn-Plotnicki" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Fjalla+One" rel="stylesheet" type="text/css">
<!--- MathJax Configuration -->
<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-56820808-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Aleksey Nozdryn-Plotnicki</a></h1>
  
    <h2>blog, portfolio, etc.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscribe" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="25" viewbox="0 0 100 100"><path class="social" d="M 13.310204,73.332654 C 5.967347,73.332654 0,79.322448 0,86.621428 c 0,7.338776 5.967347,13.262246 13.310204,13.262246 7.370408,0 13.328572,-5.92245 13.328572,-13.262246 0,-7.29898 -5.958164,-13.288774 -13.328572,-13.288774 z M 0.01530612,33.978572 V 53.143878 C 12.493878,53.143878 24.229592,58.02347 33.068368,66.865306 41.894898,75.685714 46.767346,87.47449 46.767346,100 h 19.25 C 66.017346,63.592858 36.4,33.979592 0.01530612,33.978572 l 0,0 z M 0.03877552,0 V 19.17449 C 44.54796,19.17551 80.77551,55.437756 80.77551,100 H 100 C 100,44.87653 55.15102,0 0.03877552,0 z"></path></svg></a></li>
  
</ul>
  
  
  
  
  
  
  
    
      <form action="https://www.google.com/search" method="get">
        <fieldset role="search">
          <input type="hidden" name="q" value="site:alekseynp.com" />
    
          <input class="search" type="text" name="q" results="0" placeholder="Search"/>
        </fieldset>
      </form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/about/">About</a></li>
  <li><a href="/portfolio/">Portfolio</a></li>
  <li><a href="/topics/">Topics</a></li>
  <li><a href="/archives/">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/07/28/discovering-clusters-and-relationships-in-data-with-network-visualisations-language-network/">Discovering Clusters and Relationships in Data With Network Visualisations - Language Network</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-07-28T20:16:18-04:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>28</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>8:16 pm</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://languagenetwork.cotrino.com/">Language Network</a> is an excellent demonstration of a technique for exploring a relational data set. Every language has a % strength of similarity to every other and this defines the connections in the network. Using the strength filter and physical layout simulation, one can explore the relationships in the data set and identify clusters. It can be a little difficult to describe, so click through for yourself.</p>

<p><a href="http://languagenetwork.cotrino.com/"><img src="http://alekseynp.com/wp-content/uploads/2013/07/language_network.png" alt="language_network" /></a></p>

<p>During my time in consulting, I independently developed a static version of this technique for use in an analysis for a large retailer. Since then I have been in search of the right open data set in order to demonstrate the technique without violating any confidentiality or intellectual property. It pleases me today to have found Language Network via the <a href="https://github.com/mbostock/d3/wiki/Gallery">d3js examples index</a>.</p>

<p>This technique could be used on any data set where the elements have a quantitatively defined strength of relationship and the user has a desire to explore the clustering within. Specifically this could include any correlation matrix or bespoke similarity scoring formula/algorithm. The correlation matrix could be the output of a typical multivariate analysis, or it could be calculated in other ways, correlating time series or profiles/distributions.</p>

<p>I may have a project in the pipeline which will utilise this technique. We will see&hellip;</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/07/28/how-to-add-a-table-of-values-to-a-boxplot-in-r/">How to Add a Table of Values to a Boxplot in R</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-07-28T13:11:41-04:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>28</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>1:11 pm</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p>In this post I show how to use R to create a nice boxplot chart with a table showing the boxplot statistics to one side.</p>

<p>As I have<a href="http://alekseynp.com/2013/06/05/how-to-make-nice-boxplots-with-r/"> shown before</a>, R can be used to produce nice-looking boxplots, a standard statistical technique that is not a standard chart available in the ubiquitous Microsoft Excel. Boxplots are a useful visualisation, but often your customer will also want to see a table of the values so that they can both see the trend and, for example, look up exact average values. If you try to create this table using Excel PivotTables, you will quickly be disappointed to see that it is not possible to calculate quartiles in a PivotTable. An Excel master will be able to create a bespoke set of formulas to filter the data and utilize the =Percentile() worksheet function, but there must be a better way&hellip; and there is.</p>

<p>Here is the demo output using R (click for larger):</p>

<p><a href="http://alekseynp.com/wp-content/uploads/2013/07/demo.png"><img src="http://alekseynp.com/wp-content/uploads/2013/07/demo-300x120.png" alt="demo" /></a></p>

<p>How to create this using R? See further below for my complete script.</p>

<p>Important script elements:</p>

<pre><code>m &lt;span&gt;&lt;-&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/base/rbind"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rbind&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;
&lt;a href="http://inside-r.org/r-doc/graphics/layout"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;layout&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;m&lt;span style="color: #009900;"&gt;)&lt;/span&gt;
</code></pre>

<p>Rather than using par(mfrow(1,2)) which would create a 1 rows by 2 columns grid of equal size, we can use layout to create a layout with unequal sizes. Using c(1,1,1,2,2) above, we are able to make the size of the chart a 3:2 ratio to the table. If we wanted, we could use c(1,1,1,2) to create a 3:1 ratio.</p>

<pre><code>&lt;span style="color: #666666; font-style: italic;"&gt;# initialize the arrays&lt;/span&gt;
&lt;span style="color: #666666; font-style: italic;"&gt;# Creates a vector of 17 (there are 17 yeras) NAs that we will fill in later&lt;/span&gt;
means &lt;span&gt;&lt;-&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/base/rep"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #000000; font-weight: bold;"&gt;NA&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;17&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;
mins &lt;span&gt;&lt;-&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/base/rep"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #000000; font-weight: bold;"&gt;NA&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;17&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;
maxs &lt;span&gt;&lt;-&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/base/rep"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #000000; font-weight: bold;"&gt;NA&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;17&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;
lowerq &lt;span&gt;&lt;-&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/base/rep"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #000000; font-weight: bold;"&gt;NA&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;17&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;
upperq &lt;span&gt;&lt;-&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/base/rep"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #000000; font-weight: bold;"&gt;NA&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;17&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;
&lt;span style="color: #666666; font-style: italic;"&gt;# Creates a vectory of 1997, 1998, 1999,... 2013&lt;/span&gt;
&lt;span style="color: #666666; font-style: italic;"&gt;# These are the years at the bottom of the boxplot&lt;/span&gt;
years &lt;span&gt;&lt;-&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1997&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2013&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;

&lt;span style="color: #666666; font-style: italic;"&gt;# Perform this loop once for each value of i from 1997 to 2013&lt;/span&gt;
&lt;span style="color: #000000; font-weight: bold;"&gt;for&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;i &lt;span style="color: #000000; font-weight: bold;"&gt;in&lt;/span&gt; &lt;span style="color: #cc66cc;"&gt;1997&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2013&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;
&lt;span style="color: #009900;"&gt;{&lt;/span&gt;
  &lt;span style="color: #666666; font-style: italic;"&gt;# Run the boxplot statistics for this year&lt;/span&gt;
  boxstats &lt;span&gt;&lt;-&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/grDevices/boxplot.stats"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;boxplot.stats&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;
    &lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;"year"&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span&gt;==&lt;/span&gt;i&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #0000ff;"&gt;"price"&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;  &lt;span style="color: #666666; font-style: italic;"&gt;# filters the data for only year that matches i&lt;/span&gt;
    &lt;a href="http://inside-r.org/r-doc/stats/coef"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;coef&lt;/span&gt;&lt;/a&gt; = &lt;span style="color: #cc66cc;"&gt;1.5&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; do.conf = &lt;span style="color: #000000; font-weight: bold;"&gt;TRUE&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; do.out = &lt;span style="color: #000000; font-weight: bold;"&gt;TRUE&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;
  &lt;span style="color: #666666; font-style: italic;"&gt;# Next 5 lines store the boxplot statistics into our arrays&lt;/span&gt;
  &lt;span style="color: #666666; font-style: italic;"&gt;# i-1996 trasforms 1997 to 2013 into 1 to 17, these are the indexes in our array&lt;/span&gt;
  mins&lt;span style="color: #009900;"&gt;[&lt;/span&gt;i&lt;span&gt;-&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1996&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt; &lt;span&gt;&lt;-&lt;/span&gt; boxstats&lt;span&gt;$&lt;/span&gt;stats&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;
  lowerq&lt;span style="color: #009900;"&gt;[&lt;/span&gt;i&lt;span&gt;-&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1996&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt; &lt;span&gt;&lt;-&lt;/span&gt; boxstats&lt;span&gt;$&lt;/span&gt;stats&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;
  means&lt;span style="color: #009900;"&gt;[&lt;/span&gt;i&lt;span&gt;-&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1996&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt; &lt;span&gt;&lt;-&lt;/span&gt; boxstats&lt;span&gt;$&lt;/span&gt;stats&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;3&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;
  upperq&lt;span style="color: #009900;"&gt;[&lt;/span&gt;i&lt;span&gt;-&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1996&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt; &lt;span&gt;&lt;-&lt;/span&gt; boxstats&lt;span&gt;$&lt;/span&gt;stats&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;4&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;
  maxs&lt;span style="color: #009900;"&gt;[&lt;/span&gt;i&lt;span&gt;-&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1996&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt; &lt;span&gt;&lt;-&lt;/span&gt; boxstats&lt;span&gt;$&lt;/span&gt;stats&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;5&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;
&lt;span style="color: #009900;"&gt;}

&lt;/span&gt;
</code></pre>

<p>The code above utilizes the boxplot.stats() function and then pulls the actual values from the output for use later.</p>

<pre><code>&lt;a href="http://inside-r.org/packages/cran/PerformanceAnalytics"&gt;&lt;span&gt;PerformanceAnalytics&lt;/span&gt;&lt;/a&gt;&lt;span&gt;:::&lt;/span&gt;textplot&lt;span style="color: #009900;"&gt;(&lt;/span&gt;myBoxStats &lt;span style="color: #666666; font-style: italic;"&gt;#data&lt;/span&gt;
                                &lt;span style="color: #339933;"&gt;,&lt;/span&gt;halign = &lt;span style="color: #0000ff;"&gt;"left"&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;#horizontal alignment&lt;/span&gt;
                                &lt;span style="color: #339933;"&gt;,&lt;/span&gt;valign = &lt;span style="color: #0000ff;"&gt;"top"&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;#vertical alignment&lt;/span&gt;
                                &lt;span style="color: #339933;"&gt;,&lt;/span&gt;row.valign=&lt;span style="color: #0000ff;"&gt;"center"&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;#row alignment&lt;/span&gt;
                                &lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/packages/cran/mAr"&gt;&lt;span&gt;mar&lt;/span&gt;&lt;/a&gt; = &lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0.1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0.1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;#margin parameters&lt;/span&gt;
                                &lt;span style="color: #339933;"&gt;,&lt;/span&gt;show.rownames=&lt;span style="color: #000000; font-weight: bold;"&gt;FALSE&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;#omit the record identifiers&lt;/span&gt;
&lt;span style="color: #009900;"&gt;)&lt;/span&gt;
</code></pre>

<p>Using the strangely named PerformanceAnalytics package, this command writes out a graphic table using the data.</p>

<p>Download the data <a href="https://docs.google.com/file/d/0B4hPSKdfKZm1OXcwWDVqZzJkYXM/edit?usp=sharing">here </a>if you want to see the script running live on your own computer. Remember to update the setwd at the top of the file to the directory where you saved the data to.</p>

<p>Here is the full script that creates a boxplot graph and includes a table of values to the right:</p>

<pre><code>&lt;span style="color: #666666; font-style: italic;"&gt;# Clear all existing variables from memory&lt;/span&gt;
&lt;a href="http://inside-r.org/r-doc/base/rm"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rm&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/list"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;list&lt;/span&gt;&lt;/a&gt;=&lt;a href="http://inside-r.org/r-doc/base/ls"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;ls&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;

&lt;span style="color: #666666; font-style: italic;"&gt;# Set working directory for the csv file&lt;/span&gt;
&lt;a href="http://inside-r.org/r-doc/base/setwd"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;setwd&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span&gt;&lt;span style="color: #0000ff;"&gt;"C:&lt;/span&gt;&lt;span style="color: #000099; font-weight: bold;"&gt;\\&lt;/span&gt;&lt;span&gt;&lt;span style="color: #0000ff;"&gt;yourDirectory&lt;/span&gt;&lt;/span&gt;&lt;span style="color: #000099; font-weight: bold;"&gt;\\&lt;/span&gt;&lt;span style="color: #0000ff;"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;

&lt;span style="color: #666666; font-style: italic;"&gt;# load the csv file&lt;/span&gt;
&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt; &lt;span&gt;&lt;-&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/utils/read.csv"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;read.csv&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #0000ff;"&gt;"dataForBlog.csv"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; header=&lt;span style="color: #000000; font-weight: bold;"&gt;TRUE&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; sep=&lt;span style="color: #0000ff;"&gt;","&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;

&lt;span style="color: #666666; font-style: italic;"&gt;# some code that cleans up the variables so that boxplot will work later&lt;/span&gt;
&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt; &lt;span&gt;&lt;-&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/base/data.frame"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/sapply"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;sapply&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/base/function"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;x&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt; &lt;span style="color: #000000; font-weight: bold;"&gt;if&lt;/span&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/is.factor"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;is.factor&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;x&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;
  &lt;a href="http://inside-r.org/r-doc/base/as.numeric"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;as.numeric&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/as.character"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;as.character&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;x&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;
&lt;span style="color: #009900;"&gt;}&lt;/span&gt; &lt;span style="color: #000000; font-weight: bold;"&gt;else&lt;/span&gt; &lt;span style="color: #009900;"&gt;{&lt;/span&gt;
  x
&lt;span style="color: #009900;"&gt;}&lt;/span&gt;
&lt;span style="color: #009900;"&gt;}&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;

&lt;span style="color: #666666; font-style: italic;"&gt;# Prepare the "device" that this graph will be prepared for -- more standard results&lt;/span&gt;
&lt;span style="color: #666666; font-style: italic;"&gt;# than acquired by exporting from the R GUI&lt;/span&gt;
&lt;a href="http://inside-r.org/r-doc/grDevices/png"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;png&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;filename = &lt;span style="color: #0000ff;"&gt;"demo.png"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; width = &lt;span style="color: #cc66cc;"&gt;800&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; height = &lt;span style="color: #cc66cc;"&gt;320&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/base/units"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;units&lt;/span&gt;&lt;/a&gt; = &lt;span style="color: #0000ff;"&gt;"px"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;

&lt;span style="color: #666666; font-style: italic;"&gt;# Create a vector and use it to define the layout&lt;/span&gt;
&lt;span style="color: #666666; font-style: italic;"&gt;# Here we will have two panels in a ratio of 3:2&lt;/span&gt;
&lt;span style="color: #666666; font-style: italic;"&gt;# c(1,2) or c(1,1,2,2) would create two equal panels&lt;/span&gt;
&lt;span style="color: #666666; font-style: italic;"&gt;# c(1,1,2) would create two panels in a ratio of 2:1&lt;/span&gt;
m &lt;span&gt;&lt;-&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/base/rbind"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rbind&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;
&lt;a href="http://inside-r.org/r-doc/graphics/layout"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;layout&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;m&lt;span style="color: #009900;"&gt;)&lt;/span&gt;

&lt;span style="color: #666666; font-style: italic;"&gt;# Generate the boxplot. Not the focus of this script, so no comments&lt;/span&gt;
&lt;a href="http://inside-r.org/r-doc/graphics/par"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;par&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/packages/cran/mAr"&gt;&lt;span&gt;mar&lt;/span&gt;&lt;/a&gt;=&lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;3&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;4&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;4&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;
&lt;a href="http://inside-r.org/r-doc/graphics/boxplot"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;boxplot&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;price&lt;span&gt;~&lt;/span&gt;year&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;=&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; xaxt=&lt;span style="color: #0000ff;"&gt;"n"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; yaxt=&lt;span style="color: #0000ff;"&gt;"n"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/graphics/frame"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;frame&lt;/span&gt;&lt;/a&gt;=&lt;span style="color: #0000ff;"&gt;"f"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;a href="http://inside-r.org/packages/cran/mAr"&gt;&lt;span&gt;mar&lt;/span&gt;&lt;/a&gt; = &lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;
&lt;a href="http://inside-r.org/r-doc/graphics/axis"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;axis&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; at=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;17&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/base/labels"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;labels&lt;/span&gt;&lt;/a&gt;=&lt;span style="color: #cc66cc;"&gt;1997&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2013&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; lwd=&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; lwd.ticks=&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; cex.axis=&lt;span style="color: #cc66cc;"&gt;0.5&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; mgp=&lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;
&lt;a href="http://inside-r.org/r-doc/graphics/axis"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;axis&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; at=&lt;a href="http://inside-r.org/r-doc/base/seq"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;seq&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;11000000&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/by"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;by&lt;/span&gt;&lt;/a&gt;=&lt;span style="color: #cc66cc;"&gt;1000000&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/base/labels"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;labels&lt;/span&gt;&lt;/a&gt;=&lt;a href="http://inside-r.org/r-doc/base/formatC"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;formatC&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/seq"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;seq&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;11000000&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/by"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;by&lt;/span&gt;&lt;/a&gt;=&lt;span style="color: #cc66cc;"&gt;1000000&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,,&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/base/format"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;format&lt;/span&gt;&lt;/a&gt;=&lt;span style="color: #0000ff;"&gt;"d"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; big.mark=&lt;span style="color: #0000ff;"&gt;','&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; las=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; cex.axis=&lt;span style="color: #cc66cc;"&gt;0.65&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; bty=&lt;span style="color: #0000ff;"&gt;"n"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; lwd=&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; lwd.ticks=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; tck=&lt;span&gt;-&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0.02&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; mgp=&lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0.35&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; hadj=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;
&lt;a href="http://inside-r.org/r-doc/graphics/mtext"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;mtext&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/graphics/text"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;text&lt;/span&gt;&lt;/a&gt;=&lt;span style="color: #0000ff;"&gt;"Price vs. Year"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; side = &lt;span style="color: #cc66cc;"&gt;3&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; adj=&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/stats/line"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;line&lt;/span&gt;&lt;/a&gt;=&lt;span style="color: #cc66cc;"&gt;1.5&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; cex=&lt;span style="color: #cc66cc;"&gt;1.1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;

&lt;span style="color: #666666; font-style: italic;"&gt;# initialize the arrays&lt;/span&gt;
&lt;span style="color: #666666; font-style: italic;"&gt;# Creates a vector of 17 (there are 17 yeras) NAs that we will fill in later&lt;/span&gt;
means &lt;span&gt;&lt;-&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/base/rep"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #000000; font-weight: bold;"&gt;NA&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;17&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;
mins &lt;span&gt;&lt;-&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/base/rep"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #000000; font-weight: bold;"&gt;NA&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;17&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;
maxs &lt;span&gt;&lt;-&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/base/rep"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #000000; font-weight: bold;"&gt;NA&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;17&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;
lowerq &lt;span&gt;&lt;-&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/base/rep"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #000000; font-weight: bold;"&gt;NA&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;17&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;
upperq &lt;span&gt;&lt;-&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/base/rep"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #000000; font-weight: bold;"&gt;NA&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;17&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;
&lt;span style="color: #666666; font-style: italic;"&gt;# Creates a vectory of 1997, 1998, 1999,... 2013&lt;/span&gt;
&lt;span style="color: #666666; font-style: italic;"&gt;# These are the years at the bottom of the boxplot&lt;/span&gt;
years &lt;span&gt;&lt;-&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1997&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2013&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;

&lt;span style="color: #666666; font-style: italic;"&gt;# Perform this loop once for each value of i from 1997 to 2013&lt;/span&gt;
&lt;span style="color: #000000; font-weight: bold;"&gt;for&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;i &lt;span style="color: #000000; font-weight: bold;"&gt;in&lt;/span&gt; &lt;span style="color: #cc66cc;"&gt;1997&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2013&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;
&lt;span style="color: #009900;"&gt;{&lt;/span&gt;
  &lt;span style="color: #666666; font-style: italic;"&gt;# Run the boxplot statistics for this year&lt;/span&gt;
  boxstats &lt;span&gt;&lt;-&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/grDevices/boxplot.stats"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;boxplot.stats&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;
    &lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;"year"&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span&gt;==&lt;/span&gt;i&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #0000ff;"&gt;"price"&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;  &lt;span style="color: #666666; font-style: italic;"&gt;# filters teh data for only year that matches i&lt;/span&gt;
    &lt;a href="http://inside-r.org/r-doc/stats/coef"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;coef&lt;/span&gt;&lt;/a&gt; = &lt;span style="color: #cc66cc;"&gt;1.5&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; do.conf = &lt;span style="color: #000000; font-weight: bold;"&gt;TRUE&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; do.out = &lt;span style="color: #000000; font-weight: bold;"&gt;TRUE&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;
  &lt;span style="color: #666666; font-style: italic;"&gt;# Next 5 lines store the boxplot statistics into our arrays&lt;/span&gt;
  &lt;span style="color: #666666; font-style: italic;"&gt;# i-1996 trasforms 1997 to 2013 into 1 to 17, these are the indexes in our array&lt;/span&gt;
  mins&lt;span style="color: #009900;"&gt;[&lt;/span&gt;i&lt;span&gt;-&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1996&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt; &lt;span&gt;&lt;-&lt;/span&gt; boxstats&lt;span&gt;$&lt;/span&gt;stats&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;
  lowerq&lt;span style="color: #009900;"&gt;[&lt;/span&gt;i&lt;span&gt;-&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1996&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt; &lt;span&gt;&lt;-&lt;/span&gt; boxstats&lt;span&gt;$&lt;/span&gt;stats&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;
  means&lt;span style="color: #009900;"&gt;[&lt;/span&gt;i&lt;span&gt;-&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1996&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt; &lt;span&gt;&lt;-&lt;/span&gt; boxstats&lt;span&gt;$&lt;/span&gt;stats&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;3&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;
  upperq&lt;span style="color: #009900;"&gt;[&lt;/span&gt;i&lt;span&gt;-&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1996&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt; &lt;span&gt;&lt;-&lt;/span&gt; boxstats&lt;span&gt;$&lt;/span&gt;stats&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;4&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;
  maxs&lt;span style="color: #009900;"&gt;[&lt;/span&gt;i&lt;span&gt;-&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1996&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt; &lt;span&gt;&lt;-&lt;/span&gt; boxstats&lt;span&gt;$&lt;/span&gt;stats&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;5&lt;/span&gt;&lt;span style="color: #009900;"&gt;]&lt;/span&gt;
&lt;span style="color: #009900;"&gt;}&lt;/span&gt;

&lt;span style="color: #666666; font-style: italic;"&gt;# combine the arrays into a dataframe to pass to textplot later&lt;/span&gt;
myBoxStats &lt;span&gt;&lt;-&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/base/data.frame"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;
  years &lt;span style="color: #666666; font-style: italic;"&gt;# first column, unformatted&lt;/span&gt;
  &lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/format"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;format&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/data.frame"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;mins&lt;span style="color: #339933;"&gt;,&lt;/span&gt;lowerq&lt;span style="color: #339933;"&gt;,&lt;/span&gt;means&lt;span style="color: #339933;"&gt;,&lt;/span&gt;upperq&lt;span style="color: #339933;"&gt;,&lt;/span&gt;maxs&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;scientific=&lt;span style="color: #000000; font-weight: bold;"&gt;FALSE&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;big.mark=&lt;span style="color: #0000ff;"&gt;","&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;small.mark=&lt;span style="color: #0000ff;"&gt;"."&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;#format other columns nicely&lt;/span&gt;
  &lt;span style="color: #009900;"&gt;)&lt;/span&gt;

&lt;span style="color: #666666; font-style: italic;"&gt;# rename the column names so they come out nicely in textplot later&lt;/span&gt;
&lt;a href="http://inside-r.org/r-doc/base/colnames"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;colnames&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;myBoxStats&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span&gt;&lt;-&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #0000ff;"&gt;"Year"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #0000ff;"&gt;"Minimum"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #0000ff;"&gt;"Lower Quartile"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;"Average"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;"Upper Quartile"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;"Maximum"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;

&lt;span style="color: #666666; font-style: italic;"&gt;# sets margins to nothing&lt;/span&gt;
&lt;a href="http://inside-r.org/r-doc/graphics/par"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;par&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/packages/cran/mAr"&gt;&lt;span&gt;mar&lt;/span&gt;&lt;/a&gt;=&lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;

&lt;span style="color: #666666; font-style: italic;"&gt;# Write out the table&lt;/span&gt;
&lt;a href="http://inside-r.org/packages/cran/PerformanceAnalytics"&gt;&lt;span&gt;PerformanceAnalytics&lt;/span&gt;&lt;/a&gt;&lt;span&gt;:::&lt;/span&gt;textplot&lt;span style="color: #009900;"&gt;(&lt;/span&gt;myBoxStats &lt;span style="color: #666666; font-style: italic;"&gt;#data&lt;/span&gt;
                                &lt;span style="color: #339933;"&gt;,&lt;/span&gt;halign = &lt;span style="color: #0000ff;"&gt;"left"&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;#horizontal alignment&lt;/span&gt;
                                &lt;span style="color: #339933;"&gt;,&lt;/span&gt;valign = &lt;span style="color: #0000ff;"&gt;"top"&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;#vertical alignment&lt;/span&gt;
                                &lt;span style="color: #339933;"&gt;,&lt;/span&gt;row.valign=&lt;span style="color: #0000ff;"&gt;"center"&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;#row alignment&lt;/span&gt;
                                &lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/packages/cran/mAr"&gt;&lt;span&gt;mar&lt;/span&gt;&lt;/a&gt; = &lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0.1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0.1&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;#margin parameters&lt;/span&gt;
                                &lt;span style="color: #339933;"&gt;,&lt;/span&gt;show.rownames=&lt;span style="color: #000000; font-weight: bold;"&gt;FALSE&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;#omit the record identifiers&lt;/span&gt;
&lt;span style="color: #009900;"&gt;)&lt;/span&gt;

&lt;span style="color: #666666; font-style: italic;"&gt;# write the output to disk&lt;/span&gt;
&lt;a href="http://inside-r.org/r-doc/grDevices/dev.off"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;dev.off&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;
</code></pre>

<p><a href="http://www.inside-r.org/pretty-r">Created by Pretty R at inside-R.org</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/07/28/my-ontario-sunshine-list-work-in-the-financial-post/">My Ontario Sunshine List Work in the Financial Post</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-07-28T01:30:10-04:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>28</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>1:30 am</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p>A little late posting this, but you can find my work cited in the Financial Post from July 13.</p>

<p>Terence Corcoran writes <a href="http://opinion.financialpost.com/2013/07/08/terence-corcoran-the-sunshine-race-to-the-top/">The sunshine race to the to</a> and includes:</p>

<blockquote>&#8220;A quick and dirty snapshot of trends was recently highlighted by statistical blogger Aleksey Nozdryn-Plotnicki. Following release of the 2013 Ontario sunshine list, Mr. Nozdryn-Plotnicki’s posted a graph that showed big increases in the salaries of the province’s top 1000 income earners (see graph below). The highest paid individuals in the province recorded wage gains of 7.2% during 2012 “where everyone else saw 2.2%,” said Mr. Nozdryn-Plotnicki in a posting on his site, thinkdatavis.com. One year doesn’t make a trend, but similarly shaped graphs can be found for 2008, 2006, 2004 and 2000.

Another graphic example from thinkdatavis.com: Ontario’s pathologist salaries have increased 5.5% annually since 1996. During the first decade following the sunshine laws, pathologist packages increased 6.6% annually. That was followed by a four-year flat period. Then, in 2012, the pathologists recorded a single-year gain of 22%.&#8221;</blockquote>


<p>For those outside Canada, the Financial Post is a part of the National Post and <a href="http://en.wikipedia.org/wiki/List_of_newspapers_in_Canada_by_circulation">according to Wikipedia</a> had a weekly circulation of 800,000 in 2011.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/07/27/texas-death-row-execution-data/">Texas Death Row Execution Data</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-07-27T23:06:53-04:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>27</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>11:06 pm</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p>Andy Kirk over at <a href="http://www.visualisingdata.com/">Visualising Data</a> wrote recently about the <a href="http://www.visualisingdata.com/index.php/2013/07/texas-death-row-execution-data/">Texas Death Row Education Data</a>. Texas has executed it&rsquo;s 500th person since it began executing people again and provides a <a href="http://www.tdcj.state.tx.us/stat/dr_executed_offenders.html">wealth of data</a> about those people. Andy shared <a href="https://docs.google.com/spreadsheet/ccc?key=0ArNsipRBvi69dEUxZHVuRTc4ZlctREdldExsOW5rMUE#gid=0">a working copy the data </a>as scraped from the site. I&rsquo;m moving the ball forward here by sharing my updated copy of the data.</p>

<p>You can find my dataset here: <a href="https://docs.google.com/spreadsheet/ccc?key=0AohPSKdfKZm1dE8tZlpZeWtIT1dDckFrTUZucG1sY3c#gid=0">get the data</a></p>

<p>Much of the data is stored in images and I have not processed those, so this is why there are empty rows. Probably a manual affair, though anyone who is a wiz with OCR (optical character recognition) may want to do this as an exercise.</p>

<p>I have not yet standardised the data. When I have time, I will write regular expressions to standardize the height data, for example.</p>

<p>How I scraped this data is a topic for another post.  I used my weapon of choice, C# and modified code I had written for other projects.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/07/15/how-i-made-the-sun-shines-fondly-on-ontario-university-presidents/">How I Made: The Sun Shines Fondly on Ontario University Presidents</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-07-15T21:34:41-04:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>15</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>9:34 pm</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p>In this post I will share my R script that produce the visual from <a href="http://alekseynp.com/2013/07/13/the-sun-shines-fondly-on-ontario-university-presidents/">The sun shines fondly on Ontario university presidents</a>. The visual is a 10 x 3 grid of charts, what might be called small multiples. As you can see, the charts are time series, each with the same context-setting lines, and each with a unique series for a given university.<strong><a href="http://alekseynp.com/wp-admin/post.php?post=546&amp;action=edit">
</a></strong></p>

<p><a href="http://alekseynp.com/wp-content/uploads/2013/07/university-presidents.png"><img src="http://alekseynp.com/wp-content/uploads/2013/07/university-presidents-391x1024.png" alt="university presidents" /></a></p>

<p>I used all open source tools:</p>

<ul>
<li><p><a href="http://www.r-project.org/">R</a> – Open source statistical analysis and charting software</p></li>
<li><p><a href="inkscape.org">Inkscape</a> – Open source alternative to Adobe Illustrator</p></li>
</ul>


<p>The process was:</p>

<ol>
<li><p> Data Gathering and Analysis – a deep topic for another post</p></li>
<li><p> CSV as a bridge between analysis tools and charting tools</p></li>
<li><p> R to generate base chart</p></li>
<li><p> Inkscape to clean up</p></li>
</ol>


<p>The R script generates an SVG that you can load and edit in Inkscape.</p>

<pre><code>&lt;span style="color: #666666; font-style: italic;"&gt;# Clear all existing variables from memory&lt;/span&gt;
&lt;a href="http://inside-r.org/r-doc/base/rm"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;rm&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/base/list"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;list&lt;/span&gt;&lt;/a&gt;=&lt;a href="http://inside-r.org/r-doc/base/ls"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;ls&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;

&lt;span style="color: #666666; font-style: italic;"&gt;# Set working directory for the csv file and output file&lt;/span&gt;
&lt;a href="http://inside-r.org/r-doc/base/setwd"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;setwd&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #0000ff;"&gt;"C:&lt;span style="color: #000099; font-weight: bold;"&gt;\\&lt;/span&gt;Users&lt;span style="color: #000099; font-weight: bold;"&gt;\\&lt;/span&gt;Aleksey&lt;span style="color: #000099; font-weight: bold;"&gt;\\&lt;/span&gt;Documents&lt;span style="color: #000099; font-weight: bold;"&gt;\\&lt;/span&gt;Data Journalism&lt;span style="color: #000099; font-weight: bold;"&gt;\\&lt;/span&gt;c#&lt;span style="color: #000099; font-weight: bold;"&gt;\\&lt;/span&gt;salaryDisclosure&lt;span style="color: #000099; font-weight: bold;"&gt;\\&lt;/span&gt;raceUniversity"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;

&lt;span style="color: #666666; font-style: italic;"&gt;# load the csv file&lt;/span&gt;
&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt; &lt;span&gt;&lt;-&lt;/span&gt; &lt;a href="http://inside-r.org/r-doc/utils/read.csv"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;read.csv&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #0000ff;"&gt;"forR.csv"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; header=&lt;span style="color: #000000; font-weight: bold;"&gt;TRUE&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; sep=&lt;span style="color: #0000ff;"&gt;","&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;

&lt;span style="color: #666666; font-style: italic;"&gt;# set the output type and size -- good for standardizing outputs&lt;/span&gt;
&lt;span style="color: #666666; font-style: italic;"&gt;# this here creates an svg file that is 12 inches by 30 inches&lt;/span&gt;
&lt;span style="color: #666666; font-style: italic;"&gt;# I know I know, what does inches mean? Well it's important to R&lt;/span&gt;
&lt;span style="color: #666666; font-style: italic;"&gt;# for graphics. You can use the values for scaling&lt;/span&gt;
&lt;a href="http://inside-r.org/r-doc/grDevices/svg"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;svg&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;filename=&lt;span style="color: #0000ff;"&gt;"output.svg"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; width=&lt;span style="color: #cc66cc;"&gt;12&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; height=&lt;span style="color: #cc66cc;"&gt;30&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;

&lt;span style="color: #666666; font-style: italic;"&gt;# set up the grid for the graphs&lt;/span&gt;
&lt;span style="color: #666666; font-style: italic;"&gt;# mfrom (10,3) defines grid with 10 rows and 3 columns&lt;/span&gt;
&lt;span style="color: #666666; font-style: italic;"&gt;# mar defines margins, bottom, left, top, right&lt;/span&gt;
&lt;span style="color: #666666; font-style: italic;"&gt;# mgp moves the axis labels around and is currently redundant&lt;/span&gt;
&lt;a href="http://inside-r.org/r-doc/graphics/par"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;par&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;mfrow = &lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;10&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;3&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;a href="http://inside-r.org/packages/cran/mAr"&gt;&lt;span&gt;mar&lt;/span&gt;&lt;/a&gt; = &lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;5&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; mgp=&lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;

&lt;span style="color: #666666; font-style: italic;"&gt;# My data set has a row for each year, and a column for each&lt;/span&gt;
&lt;span style="color: #666666; font-style: italic;"&gt;# university. The universities are the 30th through 58th columns&lt;/span&gt;
&lt;span style="color: #666666; font-style: italic;"&gt;# The for loop will execute once for each value 30 to 58&lt;/span&gt;
&lt;span style="color: #000000; font-weight: bold;"&gt;for&lt;/span&gt; &lt;span style="color: #009900;"&gt;(&lt;/span&gt;i &lt;span style="color: #000000; font-weight: bold;"&gt;in&lt;/span&gt; &lt;span style="color: #cc66cc;"&gt;30&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;58&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;
&lt;span style="color: #009900;"&gt;{&lt;/span&gt;

  &lt;span style="color: #666666; font-style: italic;"&gt;# initial plot, x is year and y is data$x1, the series for 1st best paid&lt;/span&gt;
  &lt;a href="http://inside-r.org/r-doc/graphics/plot"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;plot&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;&lt;span&gt;$&lt;/span&gt;Year&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;&lt;span&gt;$&lt;/span&gt;X1&lt;span style="color: #339933;"&gt;,&lt;/span&gt;
     type=&lt;span style="color: #0000ff;"&gt;"l"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# makes it a line chart&lt;/span&gt;
     ylim=&lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;600000&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# sets the y axis limits&lt;/span&gt;
     ylab=&lt;span style="color: #0000ff;"&gt;""&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# no y axis lavels &lt;/span&gt;
     xlab=&lt;span style="color: #0000ff;"&gt;""&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# no x axis labels&lt;/span&gt;
     xaxt=&lt;span style="color: #0000ff;"&gt;"n"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# suppress x axis&lt;/span&gt;
     yaxt=&lt;span style="color: #0000ff;"&gt;"n"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# suppress y axis&lt;/span&gt;
     xaxs=&lt;span style="color: #0000ff;"&gt;"i"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# no margin within the plotting frame to the left or right&lt;/span&gt;
     yaxs=&lt;span style="color: #0000ff;"&gt;"i"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# similarly&lt;/span&gt;
     lwd=&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# line width for the line&lt;/span&gt;
     &lt;a href="http://inside-r.org/r-doc/base/col"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;col&lt;/span&gt;&lt;/a&gt;=&lt;span style="color: #0000ff;"&gt;"#999999"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# line color&lt;/span&gt;
     &lt;span style="color: #009900;"&gt;)&lt;/span&gt;

  &lt;span style="color: #666666; font-style: italic;"&gt;# add the line for the 10th best paid&lt;/span&gt;
  &lt;a href="http://inside-r.org/r-doc/graphics/lines"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;lines&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;&lt;span&gt;$&lt;/span&gt;Year&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;&lt;span&gt;$&lt;/span&gt;X10&lt;span style="color: #339933;"&gt;,&lt;/span&gt;
      lwd=&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# line width for the line&lt;/span&gt;
      &lt;a href="http://inside-r.org/r-doc/base/col"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;col&lt;/span&gt;&lt;/a&gt;=&lt;span style="color: #0000ff;"&gt;"#999999"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# line color&lt;/span&gt;
      &lt;span style="color: #009900;"&gt;)&lt;/span&gt;

  &lt;span style="color: #666666; font-style: italic;"&gt;# add a line for the minimum value&lt;/span&gt;
  &lt;a href="http://inside-r.org/r-doc/graphics/lines"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;lines&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;&lt;span&gt;$&lt;/span&gt;Year&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;&lt;span&gt;$&lt;/span&gt;MIN&lt;span style="color: #339933;"&gt;,&lt;/span&gt;
      lwd=&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# line width&lt;/span&gt;
      &lt;a href="http://inside-r.org/r-doc/base/col"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;col&lt;/span&gt;&lt;/a&gt;=&lt;span style="color: #0000ff;"&gt;"#999999"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# line color&lt;/span&gt;
      &lt;span style="color: #009900;"&gt;)&lt;/span&gt;

  &lt;span style="color: #666666; font-style: italic;"&gt;# add a custom x-axis&lt;/span&gt;
  &lt;a href="http://inside-r.org/r-doc/graphics/axis"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;axis&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# 1 = at the bottom&lt;/span&gt;
     at=&lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1997&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2002&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2007&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2013&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# vector of value locations for the ticks&lt;/span&gt;
     &lt;a href="http://inside-r.org/r-doc/base/labels"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;labels&lt;/span&gt;&lt;/a&gt;=&lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1997&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2002&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2007&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2013&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# vector of labels for those ticks&lt;/span&gt;
     lwd=&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# width of the axis line, 0 makes it go away&lt;/span&gt;
     lwd.ticks=&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# width of the tick marks, 0 makes it go away&lt;/span&gt;
     cex.axis=&lt;span style="color: #cc66cc;"&gt;1.6&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# scales the size of the labels&lt;/span&gt;
     mgp=&lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;
     &lt;span style="color: #009900;"&gt;)&lt;/span&gt; 

  &lt;span style="color: #666666; font-style: italic;"&gt;# add a custom y-axis&lt;/span&gt;
  &lt;a href="http://inside-r.org/r-doc/graphics/axis"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;axis&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;2&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# 2 = y axis&lt;/span&gt;
     at=&lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;150000&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;300000&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;450000&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;600000&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# vector of value ocations for the ticks&lt;/span&gt;
     &lt;a href="http://inside-r.org/r-doc/base/labels"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;labels&lt;/span&gt;&lt;/a&gt;=&lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #0000ff;"&gt;"0"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;"150"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;"300"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;"450"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;"600"&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# vector of labels for those ticks&lt;/span&gt;
     las=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# labels are rotated so they read normally left to right&lt;/span&gt;
     cex.axis=&lt;span style="color: #cc66cc;"&gt;1.6&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# scales the size of the labels&lt;/span&gt;
     bty=&lt;span style="color: #0000ff;"&gt;"n"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;
     lwd=&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# width of the axis line, 0 makes it go away&lt;/span&gt;
     lwd.ticks=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# width of the tick marks, 0 makes it go away&lt;/span&gt;
     tck=&lt;span&gt;-&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0.02&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# tick length&lt;/span&gt;
     mgp=&lt;a href="http://inside-r.org/r-doc/base/c"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0.35&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;
     hadj=&lt;span style="color: #cc66cc;"&gt;1.1&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# moves the labels left or right&lt;/span&gt;
     &lt;span style="color: #009900;"&gt;)&lt;/span&gt; 

  &lt;span style="color: #666666; font-style: italic;"&gt;# add the data series for this university&lt;/span&gt;
  &lt;a href="http://inside-r.org/r-doc/graphics/lines"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;lines&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;&lt;span&gt;$&lt;/span&gt;Year&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# x is still year as before&lt;/span&gt;
        &lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;[&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;i&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# this references the ith column of the data&lt;/span&gt;
        lwd=&lt;span style="color: #cc66cc;"&gt;3&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# line width&lt;/span&gt;
        &lt;a href="http://inside-r.org/r-doc/base/col"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;col&lt;/span&gt;&lt;/a&gt;=&lt;span style="color: #0000ff;"&gt;"#2222dd"&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# line colour&lt;/span&gt;
        &lt;span style="color: #009900;"&gt;)&lt;/span&gt;

  &lt;span style="color: #666666; font-style: italic;"&gt;# add a title to the chart&lt;/span&gt;
  &lt;a href="http://inside-r.org/r-doc/graphics/mtext"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;mtext&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/graphics/text"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;text&lt;/span&gt;&lt;/a&gt;=&lt;a href="http://inside-r.org/r-doc/base/names"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;names&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;a href="http://inside-r.org/r-doc/utils/data"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;data&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #009900;"&gt;[&lt;/span&gt;i&lt;span style="color: #009900;"&gt;]&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# this returns the name of the ith column&lt;/span&gt;
        side = &lt;span style="color: #cc66cc;"&gt;3&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# top&lt;/span&gt;
        adj=&lt;span style="color: #cc66cc;"&gt;0&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt;
        &lt;a href="http://inside-r.org/r-doc/stats/line"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;line&lt;/span&gt;&lt;/a&gt;=&lt;span style="color: #cc66cc;"&gt;1&lt;/span&gt;&lt;span style="color: #339933;"&gt;,&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# moves it up and down&lt;/span&gt;
        cex=&lt;span style="color: #cc66cc;"&gt;1.5&lt;/span&gt; &lt;span style="color: #666666; font-style: italic;"&gt;# scales the size&lt;/span&gt;
        &lt;span style="color: #009900;"&gt;)&lt;/span&gt;

&lt;span style="color: #009900;"&gt;}&lt;/span&gt;

&lt;span style="color: #666666; font-style: italic;"&gt;# saves out the .svg for to disk in the working directory&lt;/span&gt;
&lt;a href="http://inside-r.org/r-doc/grDevices/dev.off"&gt;&lt;span style="color: #003399; font-weight: bold;"&gt;dev.off&lt;/span&gt;&lt;/a&gt;&lt;span style="color: #009900;"&gt;(&lt;/span&gt;&lt;span style="color: #009900;"&gt;)&lt;/span&gt;&lt;span style="color: #339933;"&gt;;&lt;/span&gt;
</code></pre>

<p><a href="http://www.inside-r.org/pretty-r">Created by Pretty R at inside-R.org</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/07/12/the-sun-shines-fondly-on-ontario-university-presidents/">The Sun Shines Fondly on Ontario University Presidents</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-07-12T21:10:01-04:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>12</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>9:10 pm</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p>Since 1996, the ten best paid Ontario university presidents have seen their packages increased on average about 5.1% annually. This compares to:</p>

<ul>
<li><p>4.0% for the 10,000th best paid person on the Sunshine List since 2001 (when there first were 10,000 names on the list)</p></li>
<li><p>3.5% annually for the 20,000th best paid since 2004</p></li>
<li><p>5.5% annually for Pathologists since 1996</p></li>
</ul>


<p>While not as shocking as the single-year 22% raise that I <a href="http://alekseynp.com/2013/04/19/20-25-raise-for-ontarios-pathologists-in-201-shows-sunshine-list/">previously identified for pathologists</a>, this is evidence that university presidents are in the elite club for whom the sun shines strongly. As I have <a href="http://alekseynp.com/2013/05/06/second-largest-growth-gap-in-2012-for-ontario-sunshine-list/">shown previously</a>, those at the top in Ontario not only higher salaries, and bigger raises in absolute dollars, but also larger percentage increases annually which compound and lead to bigger gap between them and everyone else.</p>

<p>Explore the data below:</p>

<p><a href="http://alekseynp.com/wp-content/uploads/2013/07/university-presidents.png"><img src="http://alekseynp.com/wp-content/uploads/2013/07/university-presidents.png" alt="university presidents" /></a></p>

<p><strong>Questions and Answers</strong></p>

<p>Why are there sudden dips in the lines?</p>

<p>For example, Brock in 2007 and Carleton in 2006 and 2009. When an outgoing or incoming president works only a portion of a year, they earn less and are reported as less.</p>

<p>Why is there missing years sometimes?</p>

<p>As with sudden dips in the lines, if both the outgoing and incoming presidents work only a portion of the year and only earn less than $100,000, they will not qualify for disclosure and there will be no data for them. Also in some years the data may be outright missing.</p>

<p>Why is there almost no data for Queen’s?</p>

<p>I struggled to identify presidents of Queen’s in the data. Perhaps their structure is different. I took Daniel R. Woolf, Principal - Principal&rsquo;s Office for 2013, and Wade G. Hall, Executive Director Development for 2010 and 2009, but this is probably wrong. Any experts on the structure can feel free to inform me and I can make the appropriate correction.</p>

<p>Why do many lines start after 1997?</p>

<p>Before this period, the given presidents did not earn more than $100,000 and did not qualify for disclosure.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/07/10/south-american-roadsigns-gestalt-proximity/">South American Roadsigns: Gestalt & Proximity</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-07-10T16:43:49-04:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>10</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>4:43 pm</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://alekseynp.com/wp-content/uploads/2013/07/20130615_124724-Edited.jpg"><img src="http://alekseynp.com/wp-content/uploads/2013/07/20130615_124724-Edited.jpg" alt="20130615_124724 - Edited" /></a>
So&hellip; Which way to Lima?</p>

<p>Gestalt principles are important to learn if you&rsquo;re going to be designing information graphics. One such principle is that of nearness or proximity&hellip;. &ldquo;&hellip; all else being equal, perception tends to group stimuli that are close together as part of the same object&rdquo; (thanks <a href="http://en.wikipedia.org/wiki/Principles_of_grouping">Wikipedia</a>) Which arrow is associated with which label?</p>

<p>There are some fun lessons on visual communication to be had from South American roadsigns that show a surprising variability in quality and lack of consistency, even within a single region of a single country. This example is Peru, but by no means should Peru be singled out.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/07/08/case-study-visualizing-the-taxonomy-of-an-organisations-activities-in-strategyprofitability-projects-at-a-global-organisation/">Case Study: Visualizing the Taxonomy of an Organisation&#8217;s Activities in Strategy/profitability Projects at a Global Organisation</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-07-08T16:41:30-04:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>8</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>4:41 pm</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p>Example visual
<a href="http://alekseynp.com/wp-content/uploads/2013/07/activity_taxonomy.png"><img src="http://alekseynp.com/wp-content/uploads/2013/07/activity_taxonomy-300x300.png" alt="activity_taxonomy" /></a>
Note: Sample content merely for demonstration.</p>

<p><strong>The Content</strong>
The activities of an organisation were broken down into four levels of taxonomy.</p>

<p><strong>Context</strong>
The organisation was preparing to deliver strategy and profitability projects.</p>

<p><strong>What we did</strong>
Simply put, we took the taxonomy and built the visual.</p>

<p><strong>Benefits</strong>
With good reason, it is important to Strategy people that the concrete actions recommended by their work are underpinned by a good theoretical/abstract structure. This visual shows that structure giving everyone sight and confidence in it. Consultancies, often in the marketplace, often in white papers, want to show a completeness of vision and this did just that.</p>

<p>The taxonomy along with it&rsquo;s visual were useful for:</p>

<ul>
<li><p>the project planning, structuring, and approval stage</p></li>
<li><p>project delivery, as activities could be build around the structure, and tracked against it</p></li>
<li><p>Take completeness of vision to completeness of execution</p></li>
</ul>


<p>The condensed, all-in-one-page visual also supported development of the taxonomy. Workshops, edits and revisions were all facilitated by the visualisation. Otherwise people were restricted linear text, emails, Excel sheets, and other unwieldy mediums where duplications and missing items were hard to find.</p>

<p><strong>Make your own</strong></p>

<p>I have previously published tools to the web for generating visuals of hierarchical data:</p>

<table style="font-size:10px; border-spacing:30px;" >
  <tr >
    
<td style="text-align:center; vertical-align:top; border:1px solid #dddddd; padding:10px; margin:2px; border-radius:6px 6px 6px 6px;" >[![](http://alekseynp.com/portfolio/images/info_wheel_4_alpha_icon.png)  
Info Wheel  
(4-level)](http://alekseynp.com/portfolio/create-visualisations/infowheel4/infoWheel.html)
</td>
    
<td style="text-align:center; vertical-align:top; border:1px solid #dddddd; padding:10px; margin:2px; border-radius:6px 6px 6px 6px;" >[![](http://alekseynp.com/portfolio/images/node_tree_4_alpha_icon.png)  
Radial Tree  
(4-level)](http://alekseynp.com/portfolio/create-visualisations/reingold-Tilford_Tree4/Reingold_Tilford_Tree.html)
</td>
  </tr>
</table>


<p>I will publish more on special request.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/07/06/case-study-visualizing-the-process-model-in-a-siebel-implementation-at-a-public-sector-organisation/">Case Study: Visualizing the Process Model in a Siebel Implementation at a Public Sector Organisation</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-07-06T16:37:20-04:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>6</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>4:37 pm</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p>Example visual
<a href="http://alekseynp.com/wp-content/uploads/2013/07/process_model.png"><img src="http://alekseynp.com/wp-content/uploads/2013/07/process_model-265x300.png" alt="process_model" /></a>
Note: Sample content merely for demonstration.</p>

<p><strong>The Content</strong>
Business processes more or less broken down into Level 1, Level 2, Level 3, Level 4</p>

<p><strong>Context</strong>
The client was designing a brand new set of business processes to go in hand with a brand new implementation of Oracle Siebel &ndash;  a Customer Relationship Management (CRM) system. Customers have accounts, things they need from us, things we need from them, processes to go through, etc. Go-live was approaching and confidence was low.</p>

<p><strong>What we did</strong>
We generated an A0 (for North Americans, this is more or less 4x4 regular sheets of paper) circular visual of all of the processes being implemented in Siebel and put it up on the wall in the primary open-office space.</p>

<p><strong>Benefits</strong>
On a single page we were able to both show that:</p>

<ul>
<li><p>The problem was not infinite, could be counted, and could fit on a single, if large, piece of paper</p></li>
<li><p>There were indeed very many processes, and the size and complexity of what had been accomplished to-date was something the entire team could be proud of</p></li>
</ul>


<p>Processes could be highlighted, coloured, or ticked-off to track progress.</p>

<p><strong>Make your own</strong></p>

<p>I have previously published tools to the web for generating visuals of hierarchical data:</p>

<table style="font-size:10px; border-spacing:30px;" >
  <tr >
    
<td style="text-align:center; vertical-align:top; border:1px solid #dddddd; padding:10px; margin:2px; border-radius:6px 6px 6px 6px;" >[![](http://alekseynp.com/portfolio/images/info_wheel_4_alpha_icon.png)  
Info Wheel  
(4-level)](http://alekseynp.com/portfolio/create-visualisations/infowheel4/infoWheel.html)
</td>
    
<td style="text-align:center; vertical-align:top; border:1px solid #dddddd; padding:10px; margin:2px; border-radius:6px 6px 6px 6px;" >[![](http://alekseynp.com/portfolio/images/node_tree_4_alpha_icon.png)  
Radial Tree  
(4-level)](http://alekseynp.com/portfolio/create-visualisations/reingold-Tilford_Tree4/Reingold_Tilford_Tree.html)
</td>
  </tr>
</table>


<p>I will publish more on special request.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/07/04/case-study-visualizing-the-data-model-in-a-business-intelligence-change-program-at-a-global-manufacturerretailerdistributor/">Case Study: Visualizing the Data Model in a Business Intelligence Change Program at a Global Manufacturer/retailer/distributor</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-07-04T16:33:16-04:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>4</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>4:33 pm</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p>Example visual
<a href="http://alekseynp.com/wp-content/uploads/2013/07/data_model.png"><img src="http://alekseynp.com/wp-content/uploads/2013/07/data_model-300x300.png" alt="data_model" /></a>
Note: Sample content merely for demonstration.</p>

<p><strong>The Content</strong>
The information model, structured as business function at level 1, entity at level 2, and data field at level 3.</p>

<p><strong>Context</strong>
This global manufacturer/retailer/distributor was engaged in a program to update their Business Intelligence including their information model.</p>

<p>The client prized communication that was innovative, on a single-page, and not PowerPoint.</p>

<p><strong>What we did</strong>
Made the visual, shared it, printed it and put it up on the wall.</p>

<p><strong>Benefits</strong>
The visual was able to show people not just what the content of the information model was, but what an information model is. An idea that was only in a few people&rsquo;s heads was made concrete and accessible to others. In some ways those colours and that shape were an information model.</p>

<p>An abstract idea made physical, the visual facilitated meetings, as people could literally walk up to it and point at what things they were talking about.</p>

<p>By seeing it all in one place, people could realize what was missing and what was overlapping. Outstanding issues of data stewardship/ownership (i.e. What single level 1 category items belonged under) were out in the open where everyone could see, not lost in some kind of Excel issue tracker or somebody&rsquo;s meeting minutes. Who owns sales turnover, Finance or Sales? Sales turnover should appear only once in the visual under only one of the two level 1 categories.</p>

<p><strong>Make your own</strong></p>

<p>I have previously published tools to the web for generating visuals of hierarchical data:</p>

<table style="font-size:10px; border-spacing:30px;" >
  <tr >
    
<td style="text-align:center; vertical-align:top; border:1px solid #dddddd; padding:10px; margin:2px; border-radius:6px 6px 6px 6px;" >[![](http://alekseynp.com/portfolio/images/info_wheel_4_alpha_icon.png)  
Info Wheel  
(4-level)](http://alekseynp.com/portfolio/create-visualisations/infowheel4/infoWheel.html)
</td>
    
<td style="text-align:center; vertical-align:top; border:1px solid #dddddd; padding:10px; margin:2px; border-radius:6px 6px 6px 6px;" >[![](http://alekseynp.com/portfolio/images/node_tree_4_alpha_icon.png)  
Radial Tree  
(4-level)](http://alekseynp.com/portfolio/create-visualisations/reingold-Tilford_Tree4/Reingold_Tilford_Tree.html)
</td>
  </tr>
</table>


<p>I will publish more on special request.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/5">&larr; Older</a>
    
    <a href="/archives">Blog Archives</a>
    
    <a class="next" href="/posts/3">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    
  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Aleksey Nozdryn-Plotnicki -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a> | Themed with <a href="https://github.com/lucaslew/whitespace">Whitespace</a></span>
</p>

</footer>
  










  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
